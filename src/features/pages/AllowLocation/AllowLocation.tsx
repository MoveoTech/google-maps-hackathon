import React, { useState } from "react";
import { Dimensions, StyleSheet, View, Platform, Linking } from "react-native";
import * as Location from "expo-location";
import Svg, { Defs, Path, Rect } from "react-native-svg";

import { requestLocationPermission } from "../../../permissions/requestLocationPermission";
import Typography from "../../components/Typography/Typography";
import Button from "../../components/Button/Button";
import Snackbar from "../../components/Snackbar/Snackbar";
import { useSnackbar } from "../../hooks/useSnackbar";
import { useAppStateChange } from "../../hooks/useAppStateChange";

const LocationImage = () => (
  <Svg width="391" height="356" viewBox="0 0 391 356" fill="none">
    <Path
      d="M366.11 143.026C366.11 143.026 314.563 79.5583 238.251 63.5489C161.938 47.5396 117.968 73.2672 86.1351 121.872C54.2958 170.47 36.1019 219.645 1.22807 244.233C-33.6458 268.821 -41.7312 307.124 -39.7149 323.133C-37.6919 339.142 -28.595 351.148 -22.5326 352.865H338.819C338.819 352.865 368.133 351.148 376.219 324.273C384.304 297.399 373.693 275.675 366.619 243.656C359.546 211.637 394.413 199.055 366.117 143.026H366.11Z"
      fill="#FFF8F0"
    />
    <Path
      d="M156.752 343.913H198.421"
      stroke="#201A32"
      stroke-width="0.5"
      stroke-miterlimit="10"
    />
    <Path
      d="M15.3081 341.87H156.752V343.913H15.5661"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M329.94 341.87H198.421V343.913H329.682"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M212.487 144.688H185.007V341.966H212.487V144.688Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M291.312 144.688H212.365V341.966H291.312V144.688Z"
      fill="#201A32"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M212.487 179.239H185.007V187.125H212.487V179.239Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M291.312 179.239H212.365V187.125H291.312V179.239Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M212.487 140.183H185.007V144.689H212.487V140.183Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M291.312 140.183H212.365V144.689H291.312V140.183Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M212.487 219.049H185.007V226.935H212.487V219.049Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M291.312 219.049H212.365V226.935H291.312V219.049Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M212.487 258.865H185.007V266.751H212.487V258.865Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M291.312 258.865H212.365V266.751H291.312V258.865Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M212.487 298.675H185.007V306.561H212.487V298.675Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M291.312 298.675H212.365V306.561H291.312V298.675Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M192.522 151.821H187.641V169.846H192.522V151.821Z"
      fill="#201A32"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M201.347 151.821H196.466V169.846H201.347V151.821Z"
      fill="#201A32"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M210.179 151.821H205.298V169.846H210.179V151.821Z"
      fill="#201A32"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M222.908 151.821H217.885V169.846H222.908V151.821Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M231.985 151.821H226.961V169.846H231.985V151.821Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M241.068 151.821H236.044V169.846H241.068V151.821Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M250.335 151.821H245.311V169.846H250.335V151.821Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M259.418 151.821H254.394V169.846H259.418V151.821Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M268.495 151.821H263.471V169.846H268.495V151.821Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M277.768 151.821H272.744V169.846H277.768V151.821Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M286.851 151.821H281.828V169.846H286.851V151.821Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M222.908 192.758H217.885V210.783H222.908V192.758Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M231.985 192.758H226.961V210.783H231.985V192.758Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M241.068 192.758H236.044V210.783H241.068V192.758Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M250.335 192.758H245.311V210.783H250.335V192.758Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M259.418 192.758H254.394V210.783H259.418V192.758Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M268.495 192.758H263.471V210.783H268.495V192.758Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M277.768 192.758H272.744V210.783H277.768V192.758Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M286.851 192.758H281.828V210.783H286.851V192.758Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M222.908 233.701H217.885V251.726H222.908V233.701Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M231.985 233.701H226.961V251.726H231.985V233.701Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M241.068 233.701H236.044V251.726H241.068V233.701Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M250.335 233.701H245.311V251.726H250.335V233.701Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M259.418 233.701H254.394V251.726H259.418V233.701Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M268.495 233.701H263.471V251.726H268.495V233.701Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M277.768 233.701H272.744V251.726H277.768V233.701Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M286.851 233.701H281.828V251.726H286.851V233.701Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M222.908 274.637H217.885V292.662H222.908V274.637Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M231.985 274.637H226.961V292.662H231.985V274.637Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M241.068 274.637H236.044V292.662H241.068V274.637Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M250.335 274.637H245.311V292.662H250.335V274.637Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M259.418 274.637H254.394V292.662H259.418V274.637Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M268.495 274.637H263.471V292.662H268.495V274.637Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M277.768 274.637H272.744V292.662H277.768V274.637Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M286.851 274.637H281.828V292.662H286.851V274.637Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M192.522 192.758H187.641V210.783H192.522V192.758Z"
      fill="#201A32"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M201.347 192.758H196.466V210.783H201.347V192.758Z"
      fill="#201A32"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M210.179 192.758H205.298V210.783H210.179V192.758Z"
      fill="#201A32"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M192.522 233.701H187.641V251.726H192.522V233.701Z"
      fill="#201A32"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M201.347 233.701H196.466V251.726H201.347V233.701Z"
      fill="#201A32"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M210.179 233.701H205.298V251.726H210.179V233.701Z"
      fill="#201A32"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M197.973 311.44C193.011 311.44 188.985 315.465 188.985 320.426V341.864H206.962V320.426C206.962 315.465 202.936 311.44 197.973 311.44Z"
      fill="#201A32"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M229.154 311.44C224.191 311.44 220.166 315.465 220.166 320.426V341.864H238.142V320.426C238.142 315.465 234.116 311.44 229.154 311.44Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M251.509 311.44C256.472 311.44 260.498 315.465 260.498 320.426V341.864H242.521V320.426C242.521 315.465 246.547 311.44 251.509 311.44Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M273.865 311.44C278.827 311.44 282.853 315.465 282.853 320.426V341.864H264.876V320.426C264.876 315.465 268.902 311.44 273.865 311.44Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M198.156 270.504C193.173 270.504 189.141 274.542 189.141 279.516V298.295H207.172V279.516C207.172 274.535 203.133 270.504 198.156 270.504Z"
      fill="#201A32"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M141.952 239.795C141.952 262.984 128.226 281.789 111.301 281.789C94.3768 281.789 80.6499 262.991 80.6499 239.795C80.6499 216.598 94.3768 136.897 111.301 136.897C128.226 136.897 141.952 216.605 141.952 239.795Z"
      fill="#FF8811"
    />
    <Path
      d="M128.49 251.929L119.203 255.356L121.07 249.771L116.63 256.307L112.197 257.949L111.885 239.605L128.008 218.194L119.366 226.833L120.826 220.82L116.698 229.5L111.797 234.4L111.301 205.747L109.543 247.538L94.2615 231.353L102.659 242.754L94.7435 241.878L104.519 245.285L109.36 251.868L108.518 272.017L102.876 268.197L108.341 276.191L105.748 331.963H113.575L112.252 260.874L128.49 251.929Z"
      fill="#201A32"
    />
    <Path
      d="M128.164 205.835C128.164 205.835 128.45 208.651 126.909 210.714C125.367 212.784 122.591 213.314 122.591 213.314C122.591 213.314 122.306 210.497 123.847 208.434C125.388 206.364 128.164 205.835 128.164 205.835Z"
      fill="#FFF8F0"
    />
    <Path
      d="M137.404 218.811C137.404 218.811 137.689 221.627 136.148 223.69C134.607 225.76 131.83 226.289 131.83 226.289C131.83 226.289 131.545 223.473 133.086 221.41C134.627 219.34 137.404 218.811 137.404 218.811Z"
      fill="#FFF8F0"
    />
    <Path
      d="M137.397 244.077C137.397 244.077 136.718 246.825 134.573 248.25C132.428 249.676 129.631 249.248 129.631 249.248C129.631 249.248 130.31 246.5 132.455 245.074C134.6 243.649 137.397 244.077 137.397 244.077Z"
      fill="#FFF8F0"
    />
    <Path
      d="M86.658 244.077C86.658 244.077 87.3368 246.825 89.4821 248.25C91.6273 249.676 94.4243 249.248 94.4243 249.248C94.4243 249.248 93.7454 246.5 91.6002 245.074C89.4549 243.649 86.658 244.077 86.658 244.077Z"
      fill="#FFF8F0"
    />
    <Path
      d="M126.725 233.592C126.725 233.592 127.01 236.408 125.469 238.471C123.928 240.541 121.152 241.071 121.152 241.071C121.152 241.071 120.867 238.254 122.408 236.191C123.949 234.121 126.725 233.592 126.725 233.592Z"
      fill="#FFF8F0"
    />
    <Path
      d="M124.336 191.719C124.336 191.719 124.621 194.535 123.08 196.598C121.539 198.668 118.762 199.197 118.762 199.197C118.762 199.197 118.477 196.381 120.018 194.318C121.559 192.248 124.336 191.719 124.336 191.719Z"
      fill="#FFF8F0"
    />
    <Path
      d="M118.83 202.489C118.83 202.489 119.115 205.306 117.574 207.369C116.033 209.439 113.256 209.968 113.256 209.968C113.256 209.968 112.971 207.152 114.512 205.089C116.053 203.019 118.83 202.489 118.83 202.489Z"
      fill="#FFF8F0"
    />
    <Path
      d="M131.898 194.645C131.898 194.645 132.183 197.461 130.642 199.524C129.101 201.594 126.325 202.123 126.325 202.123C126.325 202.123 126.04 199.307 127.581 197.244C129.122 195.174 131.898 194.645 131.898 194.645Z"
      fill="#FFF8F0"
    />
    <Path
      d="M89.4346 194.645C89.4346 194.645 89.1495 197.461 90.6905 199.524C92.2316 201.587 95.0082 202.123 95.0082 202.123C95.0082 202.123 95.2933 199.307 93.7523 197.244C92.2112 195.174 89.4346 194.645 89.4346 194.645Z"
      fill="#FFF8F0"
    />
    <Path
      d="M125.53 178.561C125.53 178.561 125.816 181.377 124.274 183.44C122.733 185.503 119.957 186.039 119.957 186.039C119.957 186.039 119.672 183.223 121.213 181.16C122.754 179.09 125.53 178.561 125.53 178.561Z"
      fill="#FFF8F0"
    />
    <Path
      d="M122.829 164.58C122.829 164.58 123.813 167.234 122.842 169.622C121.871 172.011 119.319 173.226 119.319 173.226C119.319 173.226 118.334 170.573 119.305 168.184C120.276 165.795 122.829 164.58 122.829 164.58Z"
      fill="#FFF8F0"
    />
    <Path
      d="M103.44 160.929C103.44 160.929 105.945 162.239 106.827 164.661C107.703 167.084 106.624 169.697 106.624 169.697C106.624 169.697 104.119 168.387 103.236 165.964C102.36 163.542 103.44 160.929 103.44 160.929Z"
      fill="#FFF8F0"
    />
    <Path
      d="M112.483 177.644C112.483 177.644 114.268 179.836 114.119 182.408C113.969 184.98 111.946 186.955 111.946 186.955C111.946 186.955 110.161 184.763 110.31 182.191C110.459 179.618 112.483 177.644 112.483 177.644Z"
      fill="#FFF8F0"
    />
    <Path
      d="M112 152.765C112 152.765 113.786 154.957 113.636 157.529C113.487 160.101 111.464 162.076 111.464 162.076C111.464 162.076 109.679 159.884 109.828 157.312C109.977 154.74 112 152.765 112 152.765Z"
      fill="#FFF8F0"
    />
    <Path
      d="M91.7156 205.835C91.7156 205.835 91.4305 208.651 92.9715 210.714C94.5126 212.784 97.2892 213.314 97.2892 213.314C97.2892 213.314 97.5743 210.497 96.0333 208.434C94.4922 206.364 91.7156 205.835 91.7156 205.835Z"
      fill="#FFF8F0"
    />
    <Path
      d="M86.4476 221.146C86.4476 221.146 86.1624 223.962 87.7035 226.025C89.2445 228.095 92.0211 228.624 92.0211 228.624C92.0211 228.624 92.3063 225.808 90.7652 223.745C89.2242 221.675 86.4476 221.146 86.4476 221.146Z"
      fill="#FFF8F0"
    />
    <Path
      d="M100.426 226.711C100.426 226.711 100.14 229.527 101.682 231.59C103.223 233.66 105.999 234.19 105.999 234.19C105.999 234.19 106.284 231.373 104.743 229.31C103.202 227.24 100.426 226.711 100.426 226.711Z"
      fill="#FFF8F0"
    />
    <Path
      d="M104.248 205.489C104.248 205.489 103.168 208.109 104.051 210.525C104.933 212.948 107.445 214.257 107.445 214.257C107.445 214.257 108.525 211.645 107.642 209.222C106.76 206.799 104.248 205.489 104.248 205.489Z"
      fill="#FFF8F0"
    />
    <Path
      d="M94.3496 261.946C94.3496 261.946 97.1805 262 99.1153 260.296C101.05 258.593 101.356 255.783 101.356 255.783C101.356 255.783 98.5247 255.729 96.5899 257.433C94.6551 259.136 94.3496 261.946 94.3496 261.946Z"
      fill="#FFF8F0"
    />
    <Path
      d="M121.505 258.851C121.505 258.851 122.272 261.572 124.465 262.93C126.657 264.287 129.434 263.771 129.434 263.771C129.434 263.771 128.667 261.05 126.474 259.693C124.281 258.335 121.505 258.851 121.505 258.851Z"
      fill="#FFF8F0"
    />
    <Path
      d="M97.5064 191.719C97.5064 191.719 97.2213 194.535 98.7623 196.598C100.303 198.668 103.08 199.197 103.08 199.197C103.08 199.197 103.365 196.381 101.824 194.318C100.283 192.248 97.5064 191.719 97.5064 191.719Z"
      fill="#FFF8F0"
    />
    <Path
      d="M97.459 179.279C97.459 179.279 97.1739 182.096 98.715 184.159C100.256 186.229 103.033 186.758 103.033 186.758C103.033 186.758 103.318 183.942 101.777 181.879C100.236 179.809 97.459 179.279 97.459 179.279Z"
      fill="#FFF8F0"
    />
    <Path
      d="M69.136 277.609C69.136 291.847 60.7112 303.391 50.3108 303.391C39.9104 303.391 31.4856 291.847 31.4856 277.609C31.4856 263.371 39.9104 214.427 50.3108 214.427C60.7112 214.427 69.136 263.371 69.136 277.609Z"
      fill="#FF8811"
    />
    <Path
      d="M60.8674 285.061L55.1648 287.165L56.3121 283.738L53.5898 287.755L50.8675 288.76L50.6706 277.494L60.5754 264.349L55.2666 269.649L56.1627 265.964L53.6238 271.291L50.6163 274.298L50.3108 256.7L49.2382 282.367L39.8494 272.425L45.0088 279.428L40.1481 278.892L46.1493 280.982L49.1228 285.027L48.6001 297.399L45.1446 295.051L48.4982 299.957L46.9029 331.963H51.7093L50.8947 290.551L60.8674 285.061Z"
      fill="#201A32"
    />
    <Path
      d="M60.6705 256.761C60.6705 256.761 60.847 258.491 59.8966 259.76C58.9462 261.029 57.2422 261.355 57.2422 261.355C57.2422 261.355 57.0657 259.625 58.0161 258.356C58.9598 257.086 60.6705 256.761 60.6705 256.761Z"
      fill="#FFF8F0"
    />
    <Path
      d="M66.339 264.728C66.339 264.728 66.5155 266.458 65.5651 267.727C64.6214 268.996 62.9107 269.322 62.9107 269.322C62.9107 269.322 62.7341 267.591 63.6846 266.322C64.6282 265.053 66.339 264.728 66.339 264.728Z"
      fill="#FFF8F0"
    />
    <Path
      d="M66.3389 280.242C66.3389 280.242 65.918 281.925 64.601 282.807C63.284 283.682 61.5664 283.418 61.5664 283.418C61.5664 283.418 61.9873 281.735 63.3043 280.852C64.6213 279.97 66.3389 280.242 66.3389 280.242Z"
      fill="#FFF8F0"
    />
    <Path
      d="M35.1853 280.242C35.1853 280.242 35.6062 281.925 36.9232 282.807C38.2402 283.682 39.9578 283.418 39.9578 283.418C39.9578 283.418 39.5369 281.735 38.2199 280.852C36.9029 279.977 35.1853 280.242 35.1853 280.242Z"
      fill="#FFF8F0"
    />
    <Path
      d="M59.788 273.802C59.788 273.802 59.9645 275.532 59.014 276.801C58.0704 278.07 56.3596 278.396 56.3596 278.396C56.3596 278.396 56.1831 276.666 57.1335 275.397C58.0772 274.127 59.788 273.802 59.788 273.802Z"
      fill="#FFF8F0"
    />
    <Path
      d="M58.3148 248.088C58.3148 248.088 58.4913 249.818 57.5409 251.088C56.5972 252.357 54.8865 252.682 54.8865 252.682C54.8865 252.682 54.71 250.952 55.6604 249.683C56.6108 248.414 58.3148 248.088 58.3148 248.088Z"
      fill="#FFF8F0"
    />
    <Path
      d="M54.9339 254.704C54.9339 254.704 55.1105 256.435 54.16 257.704C53.2164 258.973 51.5056 259.299 51.5056 259.299C51.5056 259.299 51.3291 257.568 52.2795 256.299C53.2232 255.03 54.9339 254.704 54.9339 254.704Z"
      fill="#FFF8F0"
    />
    <Path
      d="M62.9581 249.886C62.9581 249.886 63.1346 251.616 62.1842 252.885C61.2406 254.154 59.5298 254.48 59.5298 254.48C59.5298 254.48 59.3533 252.75 60.3037 251.481C61.2541 250.211 62.9581 249.886 62.9581 249.886Z"
      fill="#FFF8F0"
    />
    <Path
      d="M36.8826 249.886C36.8826 249.886 36.7061 251.616 37.6565 252.885C38.6001 254.154 40.3109 254.48 40.3109 254.48C40.3109 254.48 40.4874 252.75 39.537 251.481C38.5866 250.211 36.8826 249.886 36.8826 249.886Z"
      fill="#FFF8F0"
    />
    <Path
      d="M59.0546 240.012C59.0546 240.012 59.2311 241.742 58.2806 243.011C57.337 244.28 55.6262 244.606 55.6262 244.606C55.6262 244.606 55.4497 242.876 56.4001 241.607C57.3506 240.337 59.0546 240.012 59.0546 240.012Z"
      fill="#FFF8F0"
    />
    <Path
      d="M57.3915 231.427C57.3915 231.427 57.9957 233.056 57.3983 234.521C56.8009 235.987 55.2327 236.734 55.2327 236.734C55.2327 236.734 54.6285 235.105 55.2259 233.639C55.8233 232.173 57.3915 231.427 57.3915 231.427Z"
      fill="#FFF8F0"
    />
    <Path
      d="M45.4908 229.188C45.4908 229.188 47.0318 229.995 47.5682 231.481C48.1045 232.968 47.4459 234.576 47.4459 234.576C47.4459 234.576 45.9049 233.768 45.3686 232.282C44.8255 230.796 45.4908 229.188 45.4908 229.188Z"
      fill="#FFF8F0"
    />
    <Path
      d="M51.0371 239.448C51.0371 239.448 52.1368 240.799 52.0418 242.373C51.9535 243.955 50.7044 245.169 50.7044 245.169C50.7044 245.169 49.6046 243.819 49.6997 242.244C49.7879 240.663 51.0371 239.448 51.0371 239.448Z"
      fill="#FFF8F0"
    />
    <Path
      d="M50.7453 224.172C50.7453 224.172 51.8451 225.522 51.75 227.097C51.6618 228.678 50.4127 229.886 50.4127 229.886C50.4127 229.886 49.3129 228.536 49.4079 226.961C49.503 225.387 50.7453 224.165 50.7453 224.165V224.172Z"
      fill="#FFF8F0"
    />
    <Path
      d="M38.2878 256.761C38.2878 256.761 38.1113 258.491 39.0618 259.76C40.0054 261.029 41.7162 261.355 41.7162 261.355C41.7162 261.355 41.8927 259.625 40.9423 258.356C39.9986 257.086 38.2878 256.761 38.2878 256.761Z"
      fill="#FFF8F0"
    />
    <Path
      d="M35.0564 266.16C35.0564 266.16 34.8799 267.891 35.8303 269.16C36.7807 270.429 38.4847 270.755 38.4847 270.755C38.4847 270.755 38.6612 269.024 37.7108 267.755C36.7604 266.486 35.0564 266.16 35.0564 266.16Z"
      fill="#FFF8F0"
    />
    <Path
      d="M43.6375 269.573C43.6375 269.573 43.461 271.304 44.4114 272.573C45.355 273.842 47.0658 274.168 47.0658 274.168C47.0658 274.168 47.2423 272.437 46.2919 271.168C45.3414 269.899 43.6375 269.573 43.6375 269.573Z"
      fill="#FFF8F0"
    />
    <Path
      d="M45.9864 256.544C45.9864 256.544 45.3211 258.152 45.8642 259.639C46.4073 261.125 47.9483 261.926 47.9483 261.926C47.9483 261.926 48.6136 260.317 48.0705 258.831C47.5274 257.345 45.9864 256.544 45.9864 256.544Z"
      fill="#FFF8F0"
    />
    <Path
      d="M39.9036 291.216C39.9036 291.216 41.6415 291.25 42.8295 290.205C44.0176 289.159 44.2076 287.429 44.2076 287.429C44.2076 287.429 42.4697 287.395 41.2817 288.44C40.0937 289.485 39.9036 291.216 39.9036 291.216Z"
      fill="#FFF8F0"
    />
    <Path
      d="M56.5835 289.316C56.5835 289.316 57.0587 290.985 58.4029 291.82C59.7471 292.655 61.4578 292.336 61.4578 292.336C61.4578 292.336 60.9826 290.666 59.6384 289.831C58.2943 288.997 56.5835 289.316 56.5835 289.316Z"
      fill="#FFF8F0"
    />
    <Path
      d="M41.8452 248.088C41.8452 248.088 41.6687 249.818 42.6191 251.088C43.5696 252.357 45.2735 252.682 45.2735 252.682C45.2735 252.682 45.4501 250.952 44.4996 249.683C43.556 248.414 41.8452 248.088 41.8452 248.088Z"
      fill="#FFF8F0"
    />
    <Path
      d="M41.8113 240.453C41.8113 240.453 41.6348 242.184 42.5852 243.453C43.5356 244.722 45.2396 245.048 45.2396 245.048C45.2396 245.048 45.4161 243.317 44.4657 242.048C43.5221 240.779 41.8113 240.453 41.8113 240.453Z"
      fill="#FFF8F0"
    />
    <Path
      d="M347.36 286.629C347.36 300.867 338.935 312.411 328.534 312.411C318.134 312.411 309.709 300.867 309.709 286.629C309.709 272.391 318.134 223.446 328.534 223.446C338.935 223.446 347.36 272.391 347.36 286.629Z"
      fill="#FF8811"
    />
    <Path
      d="M339.098 294.081L333.395 296.184L334.536 292.757L331.813 296.768L329.091 297.779L328.901 286.514L338.799 273.361L333.497 278.668L334.393 274.983L331.854 280.311L328.847 283.317L328.541 265.72L327.462 291.386L318.08 281.444L323.232 288.448L318.372 287.912L324.38 290.002L327.353 294.04L326.831 306.418L323.368 304.07L326.722 308.977L325.133 340.975H329.94L329.125 299.571L339.098 294.081Z"
      fill="#201A32"
    />
    <Path
      d="M338.894 265.78C338.894 265.78 339.07 267.511 338.12 268.78C337.176 270.049 335.466 270.375 335.466 270.375C335.466 270.375 335.289 268.644 336.24 267.375C337.183 266.106 338.894 265.78 338.894 265.78Z"
      fill="#FFF8F0"
    />
    <Path
      d="M344.569 273.747C344.569 273.747 344.746 275.478 343.796 276.747C342.852 278.016 341.141 278.342 341.141 278.342C341.141 278.342 340.965 276.611 341.915 275.342C342.859 274.073 344.569 273.747 344.569 273.747Z"
      fill="#FFF8F0"
    />
    <Path
      d="M344.563 289.261C344.563 289.261 344.142 290.944 342.825 291.827C341.508 292.702 339.79 292.437 339.79 292.437C339.79 292.437 340.211 290.754 341.528 289.872C342.845 288.997 344.563 289.261 344.563 289.261Z"
      fill="#FFF8F0"
    />
    <Path
      d="M313.409 289.261C313.409 289.261 313.83 290.944 315.147 291.827C316.464 292.702 318.181 292.437 318.181 292.437C318.181 292.437 317.761 290.754 316.443 289.872C315.126 288.997 313.409 289.261 313.409 289.261Z"
      fill="#FFF8F0"
    />
    <Path
      d="M338.011 282.821C338.011 282.821 338.188 284.552 337.237 285.821C336.294 287.09 334.583 287.416 334.583 287.416C334.583 287.416 334.406 285.685 335.357 284.416C336.301 283.147 338.011 282.821 338.011 282.821Z"
      fill="#FFF8F0"
    />
    <Path
      d="M336.545 257.107C336.545 257.107 336.722 258.838 335.771 260.107C334.827 261.376 333.117 261.702 333.117 261.702C333.117 261.702 332.94 259.971 333.891 258.702C334.841 257.433 336.545 257.107 336.545 257.107Z"
      fill="#FFF8F0"
    />
    <Path
      d="M333.164 263.717C333.164 263.717 333.341 265.447 332.39 266.716C331.447 267.986 329.736 268.311 329.736 268.311C329.736 268.311 329.56 266.581 330.51 265.312C331.454 264.043 333.164 263.717 333.164 263.717Z"
      fill="#FFF8F0"
    />
    <Path
      d="M341.189 258.905C341.189 258.905 341.365 260.636 340.415 261.905C339.471 263.174 337.76 263.5 337.76 263.5C337.76 263.5 337.584 261.769 338.534 260.5C339.485 259.231 341.189 258.905 341.189 258.905Z"
      fill="#FFF8F0"
    />
    <Path
      d="M315.113 258.905C315.113 258.905 314.937 260.636 315.887 261.905C316.831 263.174 318.541 263.5 318.541 263.5C318.541 263.5 318.718 261.769 317.767 260.5C316.824 259.231 315.113 258.905 315.113 258.905Z"
      fill="#FFF8F0"
    />
    <Path
      d="M337.278 249.031C337.278 249.031 337.455 250.762 336.504 252.031C335.561 253.3 333.85 253.626 333.85 253.626C333.85 253.626 333.673 251.895 334.624 250.626C335.567 249.357 337.278 249.031 337.278 249.031Z"
      fill="#FFF8F0"
    />
    <Path
      d="M335.615 240.446C335.615 240.446 336.219 242.075 335.622 243.541C335.024 245.007 333.456 245.753 333.456 245.753C333.456 245.753 332.852 244.125 333.449 242.659C334.047 241.193 335.615 240.446 335.615 240.446Z"
      fill="#FFF8F0"
    />
    <Path
      d="M323.714 238.2C323.714 238.2 325.255 239.008 325.792 240.494C326.328 241.98 325.67 243.589 325.67 243.589C325.67 243.589 324.128 242.781 323.592 241.295C323.056 239.809 323.714 238.2 323.714 238.2Z"
      fill="#FFF8F0"
    />
    <Path
      d="M329.268 248.468C329.268 248.468 330.367 249.818 330.272 251.393C330.184 252.974 328.935 254.189 328.935 254.189C328.935 254.189 327.835 252.838 327.93 251.264C328.018 249.683 329.268 248.468 329.268 248.468Z"
      fill="#FFF8F0"
    />
    <Path
      d="M328.969 233.191C328.969 233.191 330.069 234.542 329.974 236.116C329.885 237.698 328.636 238.906 328.636 238.906C328.636 238.906 327.537 237.555 327.632 235.981C327.727 234.406 328.969 233.185 328.969 233.185V233.191Z"
      fill="#FFF8F0"
    />
    <Path
      d="M316.511 265.78C316.511 265.78 316.335 267.511 317.285 268.78C318.229 270.049 319.94 270.375 319.94 270.375C319.94 270.375 320.116 268.644 319.166 267.375C318.222 266.106 316.511 265.78 316.511 265.78Z"
      fill="#FFF8F0"
    />
    <Path
      d="M313.28 275.18C313.28 275.18 313.104 276.91 314.054 278.179C315.004 279.448 316.708 279.774 316.708 279.774C316.708 279.774 316.885 278.044 315.934 276.775C314.991 275.505 313.28 275.18 313.28 275.18Z"
      fill="#FFF8F0"
    />
    <Path
      d="M321.861 278.593C321.861 278.593 321.685 280.323 322.635 281.592C323.579 282.861 325.289 283.187 325.289 283.187C325.289 283.187 325.466 281.457 324.515 280.188C323.565 278.919 321.861 278.593 321.861 278.593Z"
      fill="#FFF8F0"
    />
    <Path
      d="M324.21 265.563C324.21 265.563 323.545 267.172 324.088 268.658C324.631 270.144 326.172 270.945 326.172 270.945C326.172 270.945 326.837 269.337 326.294 267.851C325.751 266.364 324.21 265.563 324.21 265.563Z"
      fill="#FFF8F0"
    />
    <Path
      d="M318.134 300.228C318.134 300.228 319.872 300.262 321.06 299.217C322.248 298.172 322.438 296.442 322.438 296.442C322.438 296.442 320.7 296.408 319.512 297.453C318.324 298.498 318.134 300.228 318.134 300.228Z"
      fill="#FFF8F0"
    />
    <Path
      d="M334.807 298.328C334.807 298.328 335.282 299.998 336.627 300.833C337.971 301.667 339.681 301.348 339.681 301.348C339.681 301.348 339.206 299.679 337.862 298.844C336.518 298.009 334.807 298.328 334.807 298.328Z"
      fill="#FFF8F0"
    />
    <Path
      d="M320.069 257.107C320.069 257.107 319.892 258.838 320.843 260.107C321.793 261.376 323.497 261.702 323.497 261.702C323.497 261.702 323.674 259.971 322.723 258.702C321.773 257.433 320.069 257.107 320.069 257.107Z"
      fill="#FFF8F0"
    />
    <Path
      d="M320.042 249.473C320.042 249.473 319.865 251.203 320.815 252.472C321.766 253.741 323.47 254.067 323.47 254.067C323.47 254.067 323.646 252.337 322.696 251.067C321.746 249.798 320.042 249.473 320.042 249.473Z"
      fill="#FFF8F0"
    />
    <Path
      d="M21.0308 333.598H15.3079V342.237H21.0308V333.598Z"
      fill="#201A32"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M18.3698 333.903V272.94C18.3698 269.649 15.7018 266.981 12.4093 266.981C9.11671 266.981 6.44873 269.649 6.44873 272.94V279.36"
      stroke="#201A32"
      stroke-width="3"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M8.09839 279.225H4.86694V282.862H8.09839V279.225Z"
      fill="#201A32"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M9.44924 284.749C9.44924 283.113 8.11865 281.783 6.48256 281.783C4.84647 281.783 3.51587 283.113 3.51587 284.749C3.51587 286.384 4.84647 287.715 6.48256 287.715C8.11865 287.715 9.44924 286.384 9.44924 284.749Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M320.938 268.936H319.024V339.685H320.938V268.936Z"
      fill="#201A32"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M324.081 268.936H315.88V289.675H324.081V268.936Z"
      fill="#201A32"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M322.941 336.047H317.021V342.236H322.941V336.047Z"
      fill="#201A32"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M322.459 273.136C322.459 271.765 321.345 270.659 319.981 270.659C318.616 270.659 317.503 271.772 317.503 273.136C317.503 274.5 318.616 275.613 319.981 275.613C321.345 275.613 322.459 274.5 322.459 273.136Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M322.459 279.427C322.459 278.056 321.345 276.95 319.981 276.95C318.616 276.95 317.503 278.063 317.503 279.427C317.503 280.791 318.616 281.904 319.981 281.904C321.345 281.904 322.459 280.791 322.459 279.427Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M322.459 285.718C322.459 284.347 321.345 283.241 319.981 283.241C318.616 283.241 317.503 284.354 317.503 285.718C317.503 287.082 318.616 288.195 319.981 288.195C321.345 288.195 322.459 287.082 322.459 285.718Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M53.067 309.167L43.1826 334.304L45.7623 349.343L45.1174 351.277H68.7559C68.7559 351.277 69.1836 340.751 78.2126 340.751C87.2417 340.751 85.7346 351.922 85.7346 351.922H157.302C157.302 351.922 158.592 340.961 166.113 340.961C173.635 340.961 173.635 351.922 173.635 351.922L193.839 351.704L207.81 348.698L209.745 343.54L208.027 332.152L208.455 321.627L205.183 309.988C204.83 308.739 203.703 307.864 202.399 307.836L171.49 307.232L166.548 308.949L53.0738 309.167H53.067Z"
      fill="#FFCE48"
      stroke="#201A32"
      stroke-width="0.75"
      stroke-linejoin="round"
    />
    <Path
      d="M188.679 323.133H65.314V309.146L166.541 308.956L171.483 307.239L202.393 307.843C203.696 307.87 204.823 308.739 205.176 309.995L207.416 317.955L188.679 323.14V323.133Z"
      fill="#201A32"
      stroke="#201A32"
      stroke-width="0.75"
      stroke-linejoin="round"
    />
    <Path
      d="M62.0893 309.146V330.863L45.9728 334.732L43.1758 334.304L53.067 309.167L62.0893 309.146Z"
      fill="#201A32"
      stroke="#201A32"
      stroke-width="0.75"
      stroke-linejoin="round"
    />
    <Path
      d="M43.6102 322.807C44.1398 322.807 44.5743 322.38 44.5743 321.844V314.799L47.5885 312.492H56.9366C57.4661 312.492 57.9006 312.064 57.9006 311.528C57.9006 310.992 57.4729 310.564 56.9366 310.564H47.2626C47.0521 310.564 46.8485 310.632 46.6788 310.761L43.0264 313.557C42.7888 313.741 42.6462 314.019 42.6462 314.324V321.844C42.6462 322.373 43.0739 322.807 43.6102 322.807Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-width="0.75"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M200.281 336.672H203.934C204.287 336.672 204.572 336.957 204.572 337.31C204.572 337.663 204.287 337.948 203.934 337.948H200.281C199.928 337.948 199.643 337.663 199.643 337.31C199.643 336.957 199.928 336.672 200.281 336.672Z"
      fill="#201A32"
    />
    <Path
      d="M194.694 336.672H198.346C198.699 336.672 198.985 336.957 198.985 337.31C198.985 337.663 198.699 337.948 198.346 337.948H194.694C194.341 337.948 194.056 337.663 194.056 337.31C194.056 336.957 194.341 336.672 194.694 336.672Z"
      fill="#201A32"
    />
    <Path
      d="M189.107 336.672H192.759C193.112 336.672 193.397 336.957 193.397 337.31C193.397 337.663 193.112 337.948 192.759 337.948H189.107C188.754 337.948 188.469 337.663 188.469 337.31C188.469 336.957 188.754 336.672 189.107 336.672Z"
      fill="#201A32"
    />
    <Path
      d="M187.172 337.955H183.52C183.167 337.955 182.882 337.67 182.882 337.317C182.882 336.964 183.167 336.679 183.52 336.679H187.172C187.525 336.679 187.81 336.964 187.81 337.317C187.81 337.67 187.525 337.955 187.172 337.955Z"
      fill="#201A32"
    />
    <Path
      d="M200.281 339.251H203.934C204.287 339.251 204.572 339.536 204.572 339.889C204.572 340.242 204.287 340.527 203.934 340.527H200.281C199.928 340.527 199.643 340.242 199.643 339.889C199.643 339.536 199.928 339.251 200.281 339.251Z"
      fill="#201A32"
    />
    <Path
      d="M194.694 339.251H198.346C198.699 339.251 198.985 339.536 198.985 339.889C198.985 340.242 198.699 340.527 198.346 340.527H194.694C194.341 340.527 194.056 340.242 194.056 339.889C194.056 339.536 194.341 339.251 194.694 339.251Z"
      fill="#201A32"
    />
    <Path
      d="M189.107 339.251H192.759C193.112 339.251 193.397 339.536 193.397 339.889C193.397 340.242 193.112 340.527 192.759 340.527H189.107C188.754 340.527 188.469 340.242 188.469 339.889C188.469 339.536 188.754 339.251 189.107 339.251Z"
      fill="#201A32"
    />
    <Path
      d="M183.52 339.251H187.172C187.525 339.251 187.81 339.536 187.81 339.889C187.81 340.242 187.525 340.527 187.172 340.527H183.52C183.167 340.527 182.882 340.242 182.882 339.889C182.882 339.536 183.167 339.251 183.52 339.251Z"
      fill="#201A32"
    />
    <Path
      d="M200.281 341.823H203.934C204.287 341.823 204.572 342.108 204.572 342.461C204.572 342.814 204.287 343.099 203.934 343.099H200.281C199.928 343.099 199.643 342.814 199.643 342.461C199.643 342.108 199.928 341.823 200.281 341.823Z"
      fill="#201A32"
    />
    <Path
      d="M194.694 341.823H198.346C198.699 341.823 198.985 342.108 198.985 342.461C198.985 342.814 198.699 343.099 198.346 343.099H194.694C194.341 343.099 194.056 342.814 194.056 342.461C194.056 342.108 194.341 341.823 194.694 341.823Z"
      fill="#201A32"
    />
    <Path
      d="M189.107 341.823H192.759C193.112 341.823 193.397 342.108 193.397 342.461C193.397 342.814 193.112 343.099 192.759 343.099H189.107C188.754 343.099 188.469 342.814 188.469 342.461C188.469 342.108 188.754 341.823 189.107 341.823Z"
      fill="#201A32"
    />
    <Path
      d="M183.52 341.823H187.172C187.525 341.823 187.81 342.108 187.81 342.461C187.81 342.814 187.525 343.099 187.172 343.099H183.52C183.167 343.099 182.882 342.814 182.882 342.461C182.882 342.108 183.167 341.823 183.52 341.823Z"
      fill="#201A32"
    />
    <Path
      d="M200.281 344.401H203.934C204.287 344.401 204.572 344.686 204.572 345.039C204.572 345.392 204.287 345.677 203.934 345.677H200.281C199.928 345.677 199.643 345.392 199.643 345.039C199.643 344.686 199.928 344.401 200.281 344.401Z"
      fill="#201A32"
    />
    <Path
      d="M194.694 344.401H198.346C198.699 344.401 198.985 344.686 198.985 345.039C198.985 345.392 198.699 345.677 198.346 345.677H194.694C194.341 345.677 194.056 345.392 194.056 345.039C194.056 344.686 194.341 344.401 194.694 344.401Z"
      fill="#201A32"
    />
    <Path
      d="M189.107 344.401H192.759C193.112 344.401 193.397 344.686 193.397 345.039C193.397 345.392 193.112 345.677 192.759 345.677H189.107C188.754 345.677 188.469 345.392 188.469 345.039C188.469 344.686 188.754 344.401 189.107 344.401Z"
      fill="#201A32"
    />
    <Path
      d="M183.52 344.401H187.172C187.525 344.401 187.81 344.686 187.81 345.039C187.81 345.392 187.525 345.677 187.172 345.677H183.52C183.167 345.677 182.882 345.392 182.882 345.039C182.882 344.686 183.167 344.401 183.52 344.401Z"
      fill="#201A32"
    />
    <Path
      d="M194.694 346.98H198.346C198.699 346.98 198.985 347.265 198.985 347.618C198.985 347.971 198.699 348.256 198.346 348.256H194.694C194.341 348.256 194.056 347.971 194.056 347.618C194.056 347.265 194.341 346.98 194.694 346.98Z"
      fill="#201A32"
    />
    <Path
      d="M189.107 346.98H192.759C193.112 346.98 193.397 347.265 193.397 347.618C193.397 347.971 193.112 348.256 192.759 348.256H189.107C188.754 348.256 188.469 347.971 188.469 347.618C188.469 347.265 188.754 346.98 189.107 346.98Z"
      fill="#201A32"
    />
    <Path
      d="M183.52 346.98H187.172C187.525 346.98 187.81 347.265 187.81 347.618C187.81 347.971 187.525 348.256 187.172 348.256H183.52C183.167 348.256 182.882 347.971 182.882 347.618C182.882 347.265 183.167 346.98 183.52 346.98Z"
      fill="#201A32"
    />
    <Path
      d="M173.111 349.884C173.757 345.903 171.053 342.152 167.071 341.506C163.089 340.86 159.337 343.563 158.69 347.544C158.044 351.525 160.748 355.276 164.73 355.922C168.713 356.568 172.465 353.865 173.111 349.884Z"
      fill="#201A32"
    />
    <Path
      d="M161.097 348.697C161.097 346.044 163.249 343.893 165.903 343.893C168.558 343.893 170.71 346.044 170.71 348.697C170.71 351.351 168.558 353.502 165.903 353.502C163.249 353.502 161.097 351.351 161.097 348.697Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-width="0.75"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M84.7778 349.884C85.4242 345.903 82.7201 342.152 78.7379 341.506C74.7558 340.86 71.0036 343.563 70.3572 347.544C69.7108 351.525 72.4149 355.276 76.3971 355.922C80.3793 356.568 84.1314 353.865 84.7778 349.884Z"
      fill="#201A32"
    />
    <Path
      d="M72.7612 348.698C72.7612 346.045 74.9133 343.894 77.5677 343.894C80.2221 343.894 82.3741 346.045 82.3741 348.698C82.3741 351.352 80.2221 353.503 77.5677 353.503C74.9133 353.503 72.7612 351.352 72.7612 348.698Z"
      fill="#FFF8F0"
      stroke="#201A32"
      stroke-width="0.75"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <Path
      d="M67.0791 334.107H204.579"
      stroke="#201A32"
      stroke-width="0.5"
      stroke-miterlimit="10"
    />
    <Path
      d="M89.0813 335.037V348.977"
      stroke="#201A32"
      stroke-width="0.5"
      stroke-miterlimit="10"
    />
    <Path
      d="M108.918 335.037V348.977"
      stroke="#201A32"
      stroke-width="0.5"
      stroke-miterlimit="10"
    />
    <Path
      d="M128.748 335.037V348.977"
      stroke="#201A32"
      stroke-width="0.5"
      stroke-miterlimit="10"
    />
    <Path
      d="M148.578 335.037V348.977"
      stroke="#201A32"
      stroke-width="0.5"
      stroke-miterlimit="10"
    />
    <Defs>
      <Rect width="473" height="356" fill="white" transform="translate(-40)" />
    </Defs>
  </Svg>
);
const onOpen = {
  title: "Permission to access location was denied",
  isCheckIcon: false,
};
const AllowLocation = ({ navigation, currentLocationPermission, username }) => {
  const { openSnackbar, hideSnackbar, snackbar } = useSnackbar();
  const [locationPermission, setLocationPermission] =
    useState<Location.LocationPermissionResponse>(currentLocationPermission);
  const { status, requestPermission } = requestLocationPermission();

  useAppStateChange(() => checkLocationPermission());

  const checkLocationPermission = async () => {
    try {
      const status = await requestPermission();
      if (status.granted) {
        navigation.navigate("Location");
      } else {
        setLocationPermission(status);
        openSnackbar(onOpen);
      }
    } catch (e) {
      console.log(e);
    }
  };

  const openAppSettings = () => {
    if (Platform.OS === "ios") {
      Linking.openURL("app-settings:");
    } else {
      Linking.openSettings();
    }
  };

  const isPermissionStatusDenied =
    (locationPermission?.android && locationPermission.canAskAgain) ||
    (!locationPermission?.android && locationPermission?.status === "denied");

  return (
    <View style={styles.container}>
      <View style={styles.titleWrapper}>
        <Typography fontSize="xxl" weight="900">
          {`Hi ${username?.split(" ")[0]}, We need access to your location`}
        </Typography>
        <Typography style={styles.subTitle} fontSize="l" weight="400">
          In order to find the best places to visit around your location - we
          need to have access to your mobile device’s GPS
        </Typography>
      </View>
      <LocationImage />
      <Snackbar
        label={snackbar.title}
        isCheckIcon={snackbar.isCheckIcon}
        visible={snackbar.isVisible}
        hide={hideSnackbar}
      />
      <View style={styles.footer}>
        {isPermissionStatusDenied ? (
          <Button
            title={"Open settings to grant location permission"}
            onPress={openAppSettings}
          />
        ) : (
          <Button
            title={"Allow location access"}
            onPress={checkLocationPermission}
          />
        )}
      </View>
    </View>
  );
};

export default AllowLocation;

const styles = StyleSheet.create({
  container: {
    flex: 1,
    width: Dimensions.get("window").width,
    height: Dimensions.get("window").height,
    display: "flex",
    flexDirection: "column",
    alignItems: "center",
    backgroundColor: "#fff",
    paddingHorizontal: 16,
  },
  titleWrapper: {
    marginTop: 16,
  },
  subTitle: {
    marginTop: 16,
  },
  footer: {
    padding: 20,
    width: Dimensions.get("window").width,
  },
  textFooter: {
    marginTop: 0,
    marginVertical: 26,
  },
});
